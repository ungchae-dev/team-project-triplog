<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <meta name="description" content="" />
    <meta name="author" content="" />
    <title>당신의 모든 여행기록, Triplog</title>
    <link rel="icon" type="image/x-icon" href="assets/favicon.ico" />
    <!-- Bootstrap icons-->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css" rel="stylesheet" />
    <!-- Google fonts-->
    <link rel="preconnect" href="https://fonts.gstatic.com" />
    <link href="https://fonts.googleapis.com/css2?family=Newsreader:ital,wght@0,600;1,600&amp;display=swap" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css2?family=Mulish:ital,wght@0,300;0,500;0,600;0,700;1,300;1,500;1,600;1,700&amp;display=swap" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css2?family=Kanit:ital,wght@0,400;1,400&amp;display=swap" rel="stylesheet" />
    <!-- Core theme CSS (includes Bootstrap)-->
    <link href="/css/main.css" rel="stylesheet" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

</head>

<style>
    dialog {
        border: none;
        border-radius: 8px;
        padding: 20px;
        max-width: 500px;
        width: 90%;
        box-shadow: 0 0 10px rgba(0,0,0,0.3);
    }

    dialog::backdrop {
        background-color: rgba(0, 0, 0, 0.5);
    }
</style>

<body id="page-top">
<!-- Navigation-->
<nav class="navbar navbar-expand-lg navbar-light fixed-top shadow-sm" id="mainNav">
    <div class="container px-5 d-flex justify-content-between align-items-center">

        <!-- 중앙 Triplog 로고 -->
        <a class="navbar-brand mx-auto fw-bold" href="/">
            <img src="/images/page/logo.png" alt="Triplog" class="logo-img">
        </a>

        <!-- 오른쪽 메뉴 아이콘들 -->
        <div class="d-flex align-items-center gap-3">

            <!-- 내 블로그 -->
            <div class="text-center">
                <a href="/myblog" class="nav-link p-0">
                    <img src="/images/page/myblog.png" alt="내 블로그" width="36">
                    <div class="small">내 블로그</div>
                </a>
            </div>

            <!-- 글 검색 -->
            <div class="text-center">
                <a href="/searchpage" class="nav-link p-0">
                    <img src="/images/page/search.png" alt="글 검색" width="36">
                    <div class="small">글 검색</div>
                </a>
            </div>

            <!-- 행사/관광/맛집 -->
            <div class="text-center">
                <a href="/tourpage" class="nav-link p-0">
                    <img src="/images/page/tour.png" alt="행사/관광/맛집" width="36">
                    <div class="small">행사/관광/맛집</div>
                </a>
            </div>

            <!-- 로그인 상태가 아니면 로그인만 보여줌 -->
            <div th:if="${not #authorization.expression('isAuthenticated()')}">
                <a th:href="@{/login(type='signin')}">
                    <img src="/images/page/login.png" alt="로그인 아이콘" width="36"/>
                    <div class="small">로그인</div>
                </a>
            </div>

            <!-- 로그인 상태면 로그아웃만 보여줌 -->
            <div th:if="${#authorization.expression('isAuthenticated()')}">
                <a th:href="@{/logout}">
                    <img src="/images/page/logout.png" alt="로그아웃 아이콘" width="36"/>
                    <div class="small">로그아웃</div>
                </a>
            </div>

            <!-- 회원가입 -->
            <div class="text-center">
                <a th:href="@{/login(type='signup')}" class="nav-link p-0">
                    <img src="/images/page/memberjoin.png" alt="회원가입" width="36">
                    <div class="small">회원가입</div>
                </a>
            </div>
        </div>
    </div>
</nav>

<!-- Mashead header-->
<header class="masthead p-0 m-0" >
    <section class="weekly-best container mt-5 pt-5 mb-4">
        <h5 class="fw-bold mb-4 text-white">주간 베스트</h5>
        <div class="d-flex justify-content-between flex-wrap gap-3">
            <!--각각의 게시글에 둥근 모서리 사각형테두리 추가-->
            <div class="card shadow-sm border rounded position-relative" style="width: 23%;"
                 th:each="post, iterStat : ${bestPosts}">
                <!-- 등수별 메달 아이콘 왼쪽 상단 고정 -->
                <img th:if="${iterStat.index == 0}" src="/images/page/gold.png" class="position-absolute"
                     style="top: 0px; left: 0px; width: 40px; height: 40px; z-index: 10;" alt="Gold Medal">
                <img th:if="${iterStat.index == 1}" src="/images/page/silver.png" class="position-absolute"
                     style="top: 0px; left: 0px; width: 40px; height: 40px; z-index: 10;" alt="Silver Medal">
                <img th:if="${iterStat.index == 2}" src="/images/page/bronze.png" class="position-absolute"
                     style="top: 0px; left: 0px; width: 40px; height: 40px; z-index: 10;" alt="Bronze Medal">

                <!-- 대표 이미지 -->
                <a th:href="@{|/post/${post.id}|}">
                    <img th:src="@{${post.imageUrl}}" class="card-img-top" alt="대표 이미지"
                         style="height: 180px; object-fit: cover;">
                </a>
                <!-- 게시글 제목 -->
                <div class="card-body">
                    <h6 class="card-title text-truncate mb-0" th:text="${post.title}">게시글 제목</h6>
                </div>
            </div>
        </div>
    </section>

</header>

<!-- 지역 선택 및 결과 출력 파트 -->
<aside class="container mt-4" style="height: 550px; overflow: hidden;">

    <!-- 지역 선택 버튼 -->
    <button id="openRegionDialogBtn" class="btn btn-outline-primary">
        지역
    </button>

    <!-- 행사 목록 출력 -->
    <div id="eventList" class="row row-cols-4 g-4"></div>

    <!-- 페이지 버튼 및 더보기 -->
    <div class="d-flex justify-content-between mt-3">
        <button id="prevPageBtn" class="btn btn-secondary">이전</button>
        <button id="nextPageBtn" class="btn btn-secondary">다음</button>
        <button onclick="location.href='tourpage.html'" class="btn btn-primary">더보기</button>
    </div>
</aside>




<!--지역 선택 다이얼로그 -->
<dialog id="regionDialog">
    <h5>지역을 선택하세요</h5>
    <div id="regionButtons" class="mb-3">
        <!-- 지역 버튼들 -->

        <button class="region-btn btn btn-outline-secondary m-1 active" data-code="1">서울</button>
        <button class="region-btn btn btn-outline-secondary m-1" data-code="2">인천</button>
        <button class="region-btn btn btn-outline-secondary m-1" data-code="3">대전</button>
        <button class="region-btn btn btn-outline-secondary m-1" data-code="4">대구</button>
        <button class="region-btn btn btn-outline-secondary m-1" data-code="5">광주</button>
        <button class="region-btn btn btn-outline-secondary m-1" data-code="6">부산</button>
        <button class="region-btn btn btn-outline-secondary m-1" data-code="7">울산</button>
        <button class="region-btn btn btn-outline-secondary m-1" data-code="8">세종</button>
        <button class="region-btn btn btn-outline-secondary m-1" data-code="31">경기도</button>
        <button class="region-btn btn btn-outline-secondary m-1" data-code="32">강원</button>
        <button class="region-btn btn btn-outline-secondary m-1" data-code="33">충북</button>
        <button class="region-btn btn btn-outline-secondary m-1" data-code="34">충남</button>
        <button class="region-btn btn btn-outline-secondary m-1" data-code="35">경북</button>
        <button class="region-btn btn btn-outline-secondary m-1" data-code="36">경남</button>
        <button class="region-btn btn btn-outline-secondary m-1" data-code="37">전북</button>
        <button class="region-btn btn btn-outline-secondary m-1" data-code="38">전남</button>
        <button class="region-btn btn btn-outline-secondary m-1" data-code="39">제주도</button>

    </div>

    <div class="mb-3">선택된 지역: <span id="selectedRegionName">서울</span></div>

    <div class="d-flex justify-content-end gap-2">
        <button id="cancelRegionBtn" class="btn btn-secondary">취소</button>
        <button id="confirmRegionBtn" class="btn btn-primary">확인</button>
    </div>
</dialog>


<!-- App features section-->
<section id="features">
    <div class="container px-5">
        <div class="row gx-5 align-items-center">
            <div class="col-lg-8 order-lg-1 mb-5 mb-lg-0">
                <div class="container-fluid px-5">
                    <div class="row gx-5">
                        <div class="col-md-6 mb-5">
                            <!-- Feature item-->
                            <div class="text-center">
                                <i class="bi-phone icon-feature text-gradient d-block mb-3"></i>
                                <h3 class="font-alt">Device Mockups</h3>
                                <p class="text-muted mb-0">Ready to use HTML/CSS device mockups, no Photoshop required!</p>
                            </div>
                        </div>
                        <div class="col-md-6 mb-5">
                            <!-- Feature item-->
                            <div class="text-center">
                                <i class="bi-camera icon-feature text-gradient d-block mb-3"></i>
                                <h3 class="font-alt">Flexible Use</h3>
                                <p class="text-muted mb-0">Put an image, video, animation, or anything else in the screen!</p>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-6 mb-5 mb-md-0">
                            <!-- Feature item-->
                            <div class="text-center">
                                <i class="bi-gift icon-feature text-gradient d-block mb-3"></i>
                                <h3 class="font-alt">Free to Use</h3>
                                <p class="text-muted mb-0">As always, this theme is free to download and use for any purpose!</p>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <!-- Feature item-->
                            <div class="text-center">
                                <i class="bi-patch-check icon-feature text-gradient d-block mb-3"></i>
                                <h3 class="font-alt">Open Source</h3>
                                <p class="text-muted mb-0">Since this theme is MIT licensed, you can use it commercially!</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-lg-4 order-lg-0">
                <!-- Features section device mockup-->
                <div class="features-device-mockup">
                    <svg class="circle" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
                        <defs>
                            <linearGradient id="circleGradient" gradientTransform="rotate(45)">
                                <stop class="gradient-start-color" offset="0%"></stop>
                                <stop class="gradient-end-color" offset="100%"></stop>
                            </linearGradient>
                        </defs>
                        <circle cx="50" cy="50" r="50"></circle></svg>
                    <svg class="shape-1 d-none d-sm-block" viewBox="0 0 240.83 240.83" xmlns="http://www.w3.org/2000/svg">
                    <rect x="-32.54" y="78.39" width="305.92" height="84.05" rx="42.03" transform="translate(120.42 -49.88) rotate(45)"></rect>
                    <rect x="-32.54" y="78.39" width="305.92" height="84.05" rx="42.03" transform="translate(-49.88 120.42) rotate(-45)"></rect></svg>
                <svg class="shape-2 d-none d-sm-block" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg"><circle cx="50" cy="50" r="50"></circle></svg>
                    <div class="device-wrapper">
                        <div class="device" data-device="iPhoneX" data-orientation="portrait" data-color="black">
                            <div class="screen bg-black">
                                <!-- PUT CONTENTS HERE:-->
                                <!-- * * This can be a video, image, or just about anything else.-->
                                <!-- * * Set the max width of your media to 100% and the height to-->
                                <!-- * * 100% like the demo example below.-->
                                <video muted="muted" autoplay="" loop="" style="max-width: 100%; height: 100%"><source src="assets/img/demo-screen.mp4" type="video/mp4" /></video>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
<!-- Basic features section-->
<section class="bg-light">
    <div class="container px-5">
        <div class="row gx-5 align-items-center justify-content-center justify-content-lg-between">
            <div class="col-12 col-lg-5">
                <h2 class="display-4 lh-1 mb-4">Enter a new age of web design</h2>
                <p class="lead fw-normal text-muted mb-5 mb-lg-0">This section is perfect for featuring some information about your application, why it was built, the problem it solves, or anything else! There's plenty of space for text here, so don't worry about writing too much.</p>
            </div>
            <div class="col-sm-8 col-md-6">
                <div class="px-5 px-sm-0"><img class="img-fluid rounded-circle" src="https://source.unsplash.com/u8Jn2rzYIps/900x900" alt="..." /></div>
            </div>
        </div>
    </div>
</section>
<!-- Call to action section-->
<section class="cta">
    <div class="cta-content">
        <div class="container px-5">
            <h2 class="text-white display-1 lh-1 mb-4">
                Stop waiting.
                <br />
                Start building.
            </h2>
            <a class="btn btn-outline-light py-3 px-4 rounded-pill" href="https://startbootstrap.com/theme/new-age" target="_blank">Download for free</a>
        </div>
    </div>
</section>
<!-- App badge section-->
<section class="bg-gradient-primary-to-secondary" id="download">
    <div class="container px-5">
        <h2 class="text-center text-white font-alt mb-4">Get the app now!</h2>
        <div class="d-flex flex-column flex-lg-row align-items-center justify-content-center">
            <a class="me-lg-3 mb-4 mb-lg-0" href="#!"><img class="app-badge" src="assets/img/google-play-badge.svg" alt="..." /></a>
            <a href="#!"><img class="app-badge" src="assets/img/app-store-badge.svg" alt="..." /></a>
        </div>
    </div>
</section>
<!-- Footer-->
<footer class="bg-black text-center py-5">
    <div class="container px-5">
        <div class="text-white-50 small">
            <div class="mb-2">&copy; Your Website 2023. All Rights Reserved.</div>
            <a href="#!">Privacy</a>
            <span class="mx-1">&middot;</span>
            <a href="#!">Terms</a>
            <span class="mx-1">&middot;</span>
            <a href="#!">FAQ</a>
        </div>
    </div>
</footer>
<!-- Feedback Modal-->
<div class="modal fade" id="feedbackModal" tabindex="-1" aria-labelledby="feedbackModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header bg-gradient-primary-to-secondary p-4">
                <h5 class="modal-title font-alt text-white" id="feedbackModalLabel">Send feedback</h5>
                <button class="btn-close btn-close-white" type="button" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body border-0 p-4">
                <!-- * * * * * * * * * * * * * * *-->
                <!-- * * SB Forms Contact Form * *-->
                <!-- * * * * * * * * * * * * * * *-->
                <!-- This form is pre-integrated with SB Forms.-->
                <!-- To make this form functional, sign up at-->
                <!-- https://startbootstrap.com/solution/contact-forms-->
                <!-- to get an API token!-->
                <form id="contactForm" data-sb-form-api-token="API_TOKEN">
                    <!-- Name input-->
                    <div class="form-floating mb-3">
                        <input class="form-control" id="name" type="text" placeholder="Enter your name..." data-sb-validations="required" />
                        <label for="name">Full name</label>
                        <div class="invalid-feedback" data-sb-feedback="name:required">A name is required.</div>
                    </div>
                    <!-- Email address input-->
                    <div class="form-floating mb-3">
                        <input class="form-control" id="email" type="email" placeholder="name@example.com" data-sb-validations="required,email" />
                        <label for="email">Email address</label>
                        <div class="invalid-feedback" data-sb-feedback="email:required">An email is required.</div>
                        <div class="invalid-feedback" data-sb-feedback="email:email">Email is not valid.</div>
                    </div>
                    <!-- Phone number input-->
                    <div class="form-floating mb-3">
                        <input class="form-control" id="phone" type="tel" placeholder="(123) 456-7890" data-sb-validations="required" />
                        <label for="phone">Phone number</label>
                        <div class="invalid-feedback" data-sb-feedback="phone:required">A phone number is required.</div>
                    </div>
                    <!-- Message input-->
                    <div class="form-floating mb-3">
                        <textarea class="form-control" id="message" type="text" placeholder="Enter your message here..." style="height: 10rem" data-sb-validations="required"></textarea>
                        <label for="message">Message</label>
                        <div class="invalid-feedback" data-sb-feedback="message:required">A message is required.</div>
                    </div>
                    <!-- Submit success message-->
                    <!---->
                    <!-- This is what your users will see when the form-->
                    <!-- has successfully submitted-->
                    <div class="d-none" id="submitSuccessMessage">
                        <div class="text-center mb-3">
                            <div class="fw-bolder">Form submission successful!</div>
                            To activate this form, sign up at
                            <br />
                            <a href="https://startbootstrap.com/solution/contact-forms">https://startbootstrap.com/solution/contact-forms</a>
                        </div>
                    </div>
                    <!-- Submit error message-->
                    <!---->
                    <!-- This is what your users will see when there is-->
                    <!-- an error submitting the form-->
                    <div class="d-none" id="submitErrorMessage"><div class="text-center text-danger mb-3">Error sending message!</div></div>
                    <!-- Submit Button-->
                    <div class="d-grid"><button class="btn btn-primary rounded-pill btn-lg disabled" id="submitButton" type="submit">Submit</button></div>
                </form>
            </div>
        </div>
    </div>
</div>
<!-- Bootstrap core JS-->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
<!-- Core theme JS-->
<script src="/js/main.js"></script>
<!-- * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *-->
<!-- * *                               SB Forms JS                               * *-->
<!-- * * Activate your form at https://startbootstrap.com/solution/contact-forms * *-->
<!-- * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *-->
<script src="https://cdn.startbootstrap.com/sb-forms-latest.js"></script>
<script src="/js/main_regionselect.js"></script>
</body>
</html>
